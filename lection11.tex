\section{1я и 2я теоремы Геделя о неполноте арифметики}

\begin{definition}Мы будем называть теорию непротиворечивой, если
не найдется такой формулы $F$, что доказуемо как $F$, так и $\neg F$.
\end{definition}

\begin{lemma}
Если теория противоречива, то в ней доказуема любая формула.
\end{lemma}
\begin{proof}
Если теория противоречива, то в ней есть утверждение $F$, что доказуемо $F$ и $\neg F$.
Воспользуемся доказуемой формулой $\neg F \rightarrow F \rightarrow \beta$.
\end{proof}

\begin{definition}Мы будем называть теорию $\omega$-непротиворечивой,
если, какова бы ни была формула $P(x)$ со свободной переменной $x$, 
такая, что для любого натурального числа $p$ доказуемо $P(\overline{p})$, 
то формула $\exists p \neg P(p)$ недоказуема.
\end{definition}

\begin{lemma}
$\omega$-непротиворечивость влечёт непротиворечивость.
\end{lemma}

\begin{proof}
Рассмотрим выводимую формулу $x=x \rightarrow x=x$.
При подстановке любого натурального числа вместо $x$
формула будет по-прежнему выводима: $\overline{k} = \overline{k} \rightarrow \overline{k}=\overline{k}$.
Значит, по $\omega$-непротиворечивости формула $\exists p \neg (x=x \rightarrow x=x)$ невыводима.
Значит, теория непротиворечива (поскольку в противоречивой теории выводится любая формула).
\end{proof}

Определим рекурсивное отношение $W_1(x,p)$,
истинное тогда и только тогда, когда $x$ есть гёделев номер формулы
$\phi$ с единственным свободным аргументом $x$, а $p$ есть гёделев номер 
доказательства $\phi(\ulcorner\phi\urcorner)$ --- доказательства 
самоприменения $\phi$. 
Это соотношение при достаточном развитии аппарата работы с доказательствами несложно
выразить в формальной арифметике:
$$\omega_1(x,p) \equiv Free(x,\texttt{<<x>>}) \& Proof (Sub(x,\texttt{<<x>>},Num(x)),p)$$
Заметим, что данное отношение является выразимым в формальной арифметике.

Рассмотрим формулу $\sigma \equiv \forall p \neg \omega_1(x,p)$ --- это некоторая формула
с единственной свободной переменной $x$, и посмотрим, что произойдёт с её самоприменением:
$\sigma(\overline{\ulcorner\sigma\urcorner})$. Внимательное наблюдение за
происходящим даст следующую теорему.

\begin{theorem}{Первая теорема Гёделя о неполноте арифметики.}

1. Если формальная арифметика непротиворечива, то недоказуемо $\sigma(\overline{\ulcorner\sigma\urcorner})$.

2. Если формальная арифметика $\omega$-непротиворечива, то недоказуемо $\neg \sigma(\overline{\ulcorner\sigma\urcorner})$.
\end{theorem}

\begin{proof}
1. Пусть $\vdash \sigma(\overline{\ulcorner\sigma\urcorner})$. Тогда найдется гёделев номер ее 
доказательства $p$, значит, $W_1(\ulcorner\sigma\urcorner,p)$, то есть $\vdash \omega_1 (\overline{\ulcorner\sigma\urcorner},\overline{p})$. 
С другой стороны, пользуясь схемой аксиом для квантора всеобщности и правилом Modus Ponens, из 
предположения теоремы $\vdash \sigma(\overline{\ulcorner\sigma\urcorner})$ 
(то есть $\vdash \forall p \neg \omega_1(\overline{\ulcorner\sigma\urcorner},p)$)
можно показать $\vdash \neg \omega_1(\overline{\ulcorner\sigma\urcorner},\overline{p})$. 
Противоречие.

2. Пусть $\vdash \neg \sigma(\overline{\ulcorner\sigma\urcorner})$, то есть 
$\vdash \neg \forall p \neg \omega_1(\overline{\ulcorner\sigma\urcorner},p)$,
то есть $\vdash \exists p \omega_1(\overline{\ulcorner\sigma\urcorner},p)$.
Значит, неизбежно найдется такой номер $q$, что
$\vdash \omega_1 (\overline{\ulcorner\sigma\urcorner},\overline{q})$, поскольку 
если бы для каждого $q$ было бы доказуемо $\vdash \neg \omega_1 (\overline{\ulcorner\sigma\urcorner},\overline{q})$,
то по $\omega$-непротиворечивости было бы недоказуемо
$\exists p \neg\neg \omega_1(\overline{\ulcorner\sigma\urcorner},p)$.

Рассмотрев же определение $W_1$, можно заметить, что найденный $q$ также есть
номер доказательства $\sigma(\overline{\ulcorner\sigma\urcorner})$, что
вступает в противоречие с предположением $\vdash \neg \sigma(\overline{\ulcorner\sigma\urcorner})$.
\end{proof}

Формула $\sigma(\overline{\ulcorner\sigma\urcorner})$, говоря простым языком, утверждает 
собственную недоказуемость. Мы показали, что эта формула (при условии 
$\omega$-непротиворечивости формальной арифметики) действительно 
недоказуема --- что означает её общезначимость. Таким образом, мы 
показали, что если формальная арифметика $\omega$-непротиворечива, 
то она неполна.

В данном рассуждении используется сложное понятие
$\omega$-непротиворечивости, что смущает. Теорема Гёделя в форме 
Россера снимает эту сложность.

Рассмотрим отношение $W_2 (x,p)$ --- $x$ и $p$ состоят в отношении $W_2$ тогда и только тогда, когда
$p$ - гёделев номер доказательства \emph{отрицания} самоприменения $x$ (если $\phi$ --- формула от
одной переменной $x$, то $p$ --- номер доказательства $\neg \phi(\overline{\ulcorner\phi\urcorner})$). 
Мы также можем выразить его в формальной арифметике аналогично $\omega_1$
(обозначим представляющую формулу за $\omega_2$).

Тогда рассмотрим формулу $\rho(x) \equiv \forall p (\omega_1 (x,p) \rightarrow \exists q (q < p \& \omega_2 (x,q)))$.
Неформальным языком она утверждает, что для любого доказательства самоприменения некоторой 
формулы с номером $a$ найдется доказательство (да еще и с меньшим гёделевым номером) 
отрицания этой формулы. Ну и по традиции применим ее к своему номеру $r$. 
Внимательное рассмотрение этой ситуации приводит к следующей теореме.

\begin{theorem}{Теорема Гёделя в форме Россера.}
Если формальная арифметика непротиворечива, то 
найдется такая формула $\phi$, что как она сама, так и ее отрицание
недоказуемы.
\end{theorem}

\begin{proof}
В качестве формулы $\phi$ возьмем формулу $\rho(\overline{\ulcorner\rho\urcorner})$.

Покажем недоказуемость $\phi$. Пусть $\vdash \rho(\overline{\ulcorner\rho\urcorner})$, 
т.е. $\forall p (\omega_1 (\overline{\ulcorner\rho\urcorner},p) \rightarrow \exists q (q < p \& \omega_2 (\overline{\ulcorner\rho\urcorner},q)))$
истинно. Значит, есть такой $p$, что $\exists q (y < q \& \omega_2 (\overline{\ulcorner\rho\urcorner},q))$ истинно.
Значит, найдется такой $q < p$, что $W_2 (\ulcorner\rho\urcorner,q)$ истинно, т.е., что 
$q$ --- номер опровержения $\phi$, что влечёт за собой противоречивость арифметики.

Обратно, пусть $\vdash \neg \phi$. Пусть $t$ - гёделев номер доказательства.
Раз так, то $W_2 (\ulcorner\rho\urcorner,t)$ истинно. По непротиворечивости формальной арифметики
это значит, что $W_1 (\ulcorner\rho\urcorner,p)$ при любом $p$ ложно (иначе окажется, что 
найдутся как доказательство, так и опровержение $\rho(\overline{\ulcorner\rho\urcorner})$). 
Значит, доказуемо $\neg \omega_1 (\overline{\ulcorner\rho\urcorner},\overline{p})$ при 
любом $p$ (т.е. никакой из $p$ не является доказательством $\rho(\overline{\ulcorner\rho\urcorner})$). 
Как частный случай, $\neg \omega_1 (\overline{\ulcorner\rho\urcorner},\overline{x})$ доказуемо для
всех $x$, не превышающих $t$, поэтому 
$\vdash \neg \omega_1 (\overline{\ulcorner\rho\urcorner},\overline{0}) \& \neg \omega_1 (\overline{\ulcorner\rho\urcorner},\overline{1}) \& ... \& \neg \omega_1 (\overline{\ulcorner\rho\urcorner},\overline{t})$.
Отсюда можно показать $\vdash p \le \overline{t} \rightarrow \neg \omega_1 (\overline{\ulcorner\rho\urcorner},p)$.

Рассмотрим формулу $(p > \overline{t}) \rightarrow \exists q (q < p \& \omega_2 (\overline{\ulcorner\rho\urcorner},q))$
Формула утверждает следующее: <<если некоторый $p$ больше $t$, то найдется
такой $q$, меньший $p$, что $W_2 (\ulcorner\rho\urcorner,q)$>>. Очевидно, что данная формула истинна,
ведь если мы возьмем $t$ в качестве такого $q$, то $W_2 (\ulcorner\rho\urcorner,t)$ истинно 
по предположению. В силу выразимости $W_2$ в формальной арифметике формула также и доказуема.

Легко показать, что из этих утверждений и из того, что $p \le \overline{t} \vee p > \overline{t}$,
можно вывести $\neg \omega_1 (\overline{\ulcorner\rho\urcorner},p) \vee \exists q (q < p \& \omega_2 (\overline{\ulcorner\rho\urcorner},p))$,
а отсюда - $\forall p (\omega_1 (\overline{\ulcorner\rho\urcorner},p) \rightarrow \exists q (q < p \& \omega_2 (\overline{\ulcorner\rho\urcorner},q)))$,
то есть $\phi$. Однако, мы предположили доказуемость $\neg \phi$, и исходя из него,
вывели $\phi$, т.е. показали противоречивость формальной арифметики. Значит, 
$\neg \phi$ также недоказуемо, если арифметика непротиворечива.
\end{proof}

\begin{theorem}{Вторая теорема Гёделя о неполноте арифметики.}
Если в формальной арифметике удастся доказать её непротиворечивость, то
из этого доказательства можно построить доказательство её противоречивости.
\end{theorem}

\begin{proof}
Рассмотрим только схему доказательства. Возьмем $Consis$, некоторое 
утверждение, которое показывает непротиворечивость арифметики, т.е. 
показывает отсутствие такой формулы $\phi$, что и $\phi$ и $\neg \phi$ доказуемы:
$$Consis \equiv \forall s ((\forall p \neg Proof (s,p)) \vee (\forall p \neg Proof (\texttt{<<}\neg\texttt{>>} @ s, p)))$$

Тогда рассмотрим формулу $Consis \rightarrow \sigma (\overline{\ulcorner\sigma\urcorner})$.
Данная формула в точности соответствует условию первой части первой теоремы Гёделя 
о неполноте арифметики (если арифметика непротиворечива, то самоприменение формулы $\sigma$ недоказуемо;
напомним, что $\sigma \equiv \forall p \neg \omega_1 (x,p)$).

Рассуждение, доказывающее теорему Гёделя, можно формализовать, получив доказательство
данной импликации. Теперь, если у нас будет доказательство утверждения $Consis$,
то по правилу Modus Ponens мы также получаем доказательство утверждения $\sigma (\overline{\ulcorner\sigma\urcorner})$. 
Однако, существование такого доказательства влечет за собой противоречивость формальной арифметики.
\end{proof}

Таким образом, внутри формальной арифметики нет способа доказать её непротиворечивость.
Однако, можно пытаться это делать, находясь вне теории --- используя более 
мощные формализмы. Например, Генцен доказал непротиворечивость арифметики, 
используя трансфинитную индукцию.

Последним в данном разделе заметим, что данные доказательства естественно
обобщаются на случай произвольной формальной теории, включающей формальную
арифметику. Достаточно только расширить правила, проверяющие доказательства
формул на корректность (т.е. добавить в них новые аксиомы, схемы аксиом,
и правила или схемы правил вывода).
