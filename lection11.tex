\section{1я и 2я теоремы Геделя о неполноте арифметики}

\begin{definition}Мы будем называть теорию непротиворечивой, если
не найдется такой формулы $F$, что доказуемо как $F$, так и $\neg F$.
\end{definition}

\begin{lemma}
Если теория противоречива, то в ней доказуемо любая формула.
\end{lemma}
\begin{proof}
Если теория противоречива, то в ней есть утверждение $F$, что доказуемо $F$ и $\neg F$.
Воспользуемся доказуемой формулой $\neg F \rightarrow F \rightarrow \beta$.
\end{proof}

\begin{definition}Мы будем называть теорию $\omega$-непротиворечивой,
если, какова бы ни была формула $P(x)$ со свободной переменной $x$, 
такая, что для любого натурального числа $p$ доказуемо $P(p)$, 
то формула $\exists p \neg P(p)$ недоказуема.
\end{definition}

\begin{lemma}
$\omega$-непротиворечивость влечет непротиворечивость.
\end{lemma}

\begin{proof}
Рассмотрим выводимую формулу $x=x \rightarrow x=x$.
При подстановке любого натурального числа вместо $x$
формула будет по-прежнему выводима: $\overline{k} = \overline{k} \rightarrow \overline{k}=\overline{k}$.
Значит, по $\omega$-непротиворечивости формула $\exists p \neg (x=x \rightarrow x=x)$ невыводима.
Значит, теория непротиворечива (поскольку в противоречивой теории выводится любая формула).
\end{proof}

Пусть формула $F$ со свободной переменной <<x>> имеет геделев номер $f$. 
Тогда определим рекурсивное отношение $W_1$, такое, что $W_1(f,p)$ 
истинно тогда и только тогда, когда $p$ есть геделев номер 
доказательства $F(f)$, то есть доказательства самоприменения $F$. То есть в некотором
приближении это будет формула вида: \\
$W_1(f,p) := Free(f,$<<$x$>>$) \& Proof (Sub(f,$<<$x$>>$,Num(f)),p)$.

Рассмотрим формулу $\forall p \neg W_1(f,p)$. Пусть $w$ - ее 
геделев номер. Тогда рассмотрим формулу $\forall p \neg W_1(\overline{w},p)$

\begin{theorem}{Первая теорема Геделя о неполноте арифметики.}

1. Если формальная арифметика непротиворечива, то недоказуемо $\forall p \neg W_1(\overline{w},p)$.

2. Если формальная арифметика $\omega$-непротиворечива, то недоказуемо $\neg \forall p \neg W_1(\overline{w},p)$.
\end{theorem}

\begin{proof}
1. Пусть формула $\forall p \neg W_1(\overline{w},p)$ доказуема. Тогда найдется геделев номер ее 
доказательства $p$, и значит $W_1(\overline{w},\overline{p})$. С другой стороны, по схеме аксиом для квантора 
всеобщности и правилу Modus Ponens из предположения можно показать $\neg W_1(\overline{w},\overline{p})$. Значит, 
получается, что формальная арифметика противоречива, что не соответствует предположению.

2. Пусть $\vdash \neg \forall p \neg W_1 (\overline{w},p)$. 
Значит, $\vdash \exists p W_1 (\overline{w},p)$. 
Значит, по $\omega$-непротиворечивости найдется такое натуральное число $p$, что
$\vdash W_1(\overline{w},\overline{p})$: иначе, если $\vdash \neg W_1 (\overline{w},\overline{p})$ 
для любого натурального $p$, то по $\omega$-непротиворечивости $\exists p \neg \neg W_1(\overline{w},p)$ недоказуемо
(напомним, что $W_1$ выразимо в формальной арифметике, значит, для любой пары $f$ и $p$ мы должны иметь 
либо доказательство $W_1(\overline{f},\overline{p})$, либо доказательство отрицания этого).

Раз найдется $p$, что $W_1(w,p)$, то $\vdash \forall p \neg W_1 (w,p)$.
А, значит, доказуемо и $\neg \exists p \neg \neg W_1 (w,p)$. Значит, формальная
арифметика противоречива, что невозможно в силу предположения о ее 
$\omega$-непротиворечивости.
\end{proof}

Формула $\forall p \neg W_1(w,p)$, говоря простым языком, утверждает 
собственную недоказуемость. Мы показали, что эта формула (при условии 
$\omega$-непротиворечивости формальной арифметики) действительно 
недоказуема --- а, значит, верна. Таким образом, мы нашли некоторое
выражение в формальной арифметике, которое истинно, но недоказуемо,
и тем самым показали, что если формальная арифметика $\omega$-непротиворечива, 
то она неполна.

В данном рассуждении используется сложное понятие
$\omega$-непротиворечивости, что смущает. Теорема Геделя в форме 
Россера снимает эту сложность.

Рассмотрим отношение $W_2 (f,p)$ --- $f$ и $p$ состоят в отношении $W_2$ тогда и только тогда, когда
$p$ - геделев номер доказательства \emph{отрицания} самоприменения $f$ (если $F$ --- формула с
геделевым номером $f$, то $p$ --- номер доказательства $\neg F(f)$). Мы можем определить его 
аналогично $W_1 (w,p)$.

Тогда рассмотрим такую формулу $R(a)$: $\forall x (W_1 (a,x) \rightarrow \exists y (y < x \& W_2 (a,y)))$.
Неформальным языком она утверждает, что для любого доказательства самоприменения некоторой 
формулы с номером $a$ найдется доказательство (да еще и с меньшим геделевым номером) 
отрицания этой формулы. Ну и по традиции применим ее к своему номеру $r$. 
Внимательное рассмотрение этой ситуации приводит к следующей теореме.

\begin{theorem}{Теорема Геделя в форме Россера.}
Если формальная арифметика непротиворечива, то 
найдется такая формула $F$, что как она сама, так и ее отрицание
недоказуемы.
\end{theorem}

\begin{proof}
Обозначим геделев номер $R$ за $r$. В качестве формулы $F$ возьмем формулу $R(r)$.

Рассмотрим варианты. Пусть $F$ доказуемо, т.е. $R(r)$ истинно, 
т.е. $\forall x (W_1 (\overline{r},x) \rightarrow \exists y (y < x \& W_2 (\overline{r},y)))$
истинно. Значит, есть такой $x$, что $\exists y (y < x \& W_2 (\overline{r},y))$ истинно.
Значит, найдется такой $y$, что $W_2 (\overline{r},y)$, т.е., что существует опровержение
$r$ с меньшим номером. Поэтому формула $R(r)$ истинной, а значит и доказуемой,
быть не может.

Пусть докауземо $\neg F$. Пусть $p$ - геделев номер доказательства.
Раз так, то $W_2 (r,p)$ истинно. По непротиворечивости формальной арифметики
это значит, что $W_1 (r,x)$ при любом $x$ ложно (иначе окажется, что 
найдутся как доказательство, так и опровержение $R(r)$). Поскольку
отношение $W_1 (r,x)$ выразимо в формальной арифметике, то
доказуемо $\neg W_1 (\overline{r},\overline{x})$ при любом $x$ (т.е. никакой из $x$ не является
доказательством $R(r)$). Как частный случай, $\neg W_1 (\overline{r},\overline{x})$ доказуемо для
всех $x$, не превышающих $p$, поэтому доказуемо 
$\neg W_1 (\overline{r},1) \& \neg W_1 (\overline{r},2) \& ... \& \neg W_1 (\overline{r},\overline{p})$.
Отсюда можно показать доказуемость формулы $x \le p \rightarrow \neg W_1 (\overline{r},x)$.
Обозначим эту формулу за $P_\le(x)$.

Рассмотрим формулу $(x \ge p) \rightarrow \exists y (y \le x \& W_2 (\overline{r},y))$
Формула утверждает следующее: <<если некоторый $x$ больше чем $p$, то найдется
такой $y$, меньший $x$, что $W_2 (r,y)$>>. Очевидно, что данная формула истинна,
ведь если мы возьмем $p$ в качестве такого $y$, то $W_2 (r,p)$ истинно 
по предположению.  Обозначим рассмотренную формулу за $P_\ge(x)$ и заметим, 
что она также доказуема.

Легко показать, что из этих утверждений и из того, что $x \le p \vee x \ge p$,
можно вывести $\neg W_1 (\overline{r},x) \vee \exists y (y < x \& W_2 (\overline{r},y))$,
а отсюда - $\forall x (W_1 (\overline{r},x) \rightarrow \exists y (y < x \& W_2 (\overline{r},y)))$,
то есть $F$. Однако, мы предположили доказуемость $\neg F$, и исходя из него,
вывели $F$, т.е. показали противоречивость формальной арифметики. Значит, 
$\neg F$ также недоказуемо, если арифметика непротиворечива.
\end{proof}

\begin{theorem}{Вторая теорема Геделя о неполноте арифметики.}
Если в формальной арифметике удастся доказать ее непротиворечивость, то
на основании этого доказательства можно построить противоречие в формальной
арифметике.
\end{theorem}

\begin{proof}
Рассмотрим только схему доказательства. Возьмем $Consis$, некоторое 
утверждение, которое показывает непротиворечивость арифметики, т.е. 
показывает отсутствие такой формулы $S$, что и $S$ и $\neg S$ доказуемы
(его можно выписать:
$\forall s ((\forall p \neg Proof (s,p)) \vee (\forall p \neg Proof ($<<$\neg \$s$>>$, p)))$)

Тогда рассмотрим формулу $Consis \rightarrow (\forall p \neg W_1(\overline{w},p))$.
Данная формула в точности соответствует условию 1й теоремы Геделя 
о неполноте арифметики (если формальная арифметика непротиворечива, 
то $\forall p \neg W_1(\overline{w},p)$ недоказуемо; напомним, что $w$ ведь и есть
геделев номер формулы $\forall p \neg W_1(x,p)$ со свободной переменной $x$).
Рассуждение, доказывающее 1ю теорему, можно формализовать, получив доказательство
данной импликации. Теперь, если у нас будет доказательство утверждения $Consis$,
то по правилу Modus Ponens мы также получаем доказательство утверждения $(\forall p \neg W_1(\overline{w},p))$. 
Однако, существование такого доказательства влечет за собой противоречивость формальной арифметики.
\end{proof}

Последним в данном разделе заметим, что данные доказательства естественно
обобщаются на случай произвольной формальной теории, включающей формальную
арифметику. Достаточно только расширить правила, проверяющие доказательства
формул на корректность (т.е. добавить в них новые аксиомы, схемы аксиом,
и правила или схемы правил вывода).
